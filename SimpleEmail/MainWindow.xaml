<Window x:Class="SimpleEmail.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:SimpleEmail"
        xmlns:view="clr-namespace:SimpleEmail.Views"
        Title="Simple Email" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen"
        Icon="/Resources/Images/icon.png">

    <Grid RowDefinitions="Auto, *">

        <!-- Header Menu -->
        <Menu>
            <MenuItem Header="_File">
                <MenuItem Header="_Open" />
            </MenuItem>
            <MenuItem Header="_Edit">
                <MenuItem Header="_Settings">
                    <MenuItem Header="_Theme Settings" />
                    <MenuItem Header="_Account Settings" />
                </MenuItem>
            </MenuItem>
        </Menu>

        <TabControl x:Name="PrimaryTabControl" Grid.Row="1">
            <TabItem Header="Inbox">
                <Grid ColumnDefinitions="Auto, *" Background="LightGray">

                    <!-- Email Accounts -->
                    <TreeView x:Name="EmailAccountLB" 
                          MinWidth="300"
                          ItemsSource="{Binding Configuration.EmailAccounts}">
                        <TreeView.ItemTemplate>
                            <DataTemplate>

                                <TreeViewItem Header="{Binding User}">
                                    <view:EmailAccountView />
                                </TreeViewItem>

                            </DataTemplate>
                        </TreeView.ItemTemplate>
                    </TreeView>

                    <!-- Primary Mail List -->
                    <DataGrid x:Name="MailGrid" 
                          Grid.Column="1"
                          ItemsSource="{Binding PrimaryMail}" 
                          IsReadOnly="True"
                          AutoGenerateColumns="False"
                          BorderBrush="Transparent"
                          BorderThickness="0"
                          GridLinesVisibility="Horizontal"
                          HorizontalGridLinesBrush="LightGray"
                          VerticalGridLinesBrush="Transparent"
                          RowHeaderWidth="0"
                          ColumnWidth="*"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          CanUserReorderColumns="False"
                          CanUserResizeColumns="True"
                          CanUserSortColumns="True"
                          EnableRowVirtualization="True"
                          EnableColumnVirtualization="False"
                          SelectionMode="Single"
                          SelectionUnit="FullRow"                  
                          VirtualizingPanel.CacheLength="3"
                          VirtualizingPanel.IsVirtualizing="True"
                          VirtualizingPanel.VirtualizationMode="Recycling">
                        <DataGrid.Columns>
                            <DataGridTextColumn Binding="{Binding Subject}" Header="Subject" Width="Auto" />
                            <DataGridTextColumn Binding="{Binding From}" Header="From" Width="Auto" />
                            <DataGridTextColumn Binding="{Binding Timestamp}" Header="Date" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>

    </Grid>

</Window>
